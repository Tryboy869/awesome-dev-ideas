name: Auto Release\n\non: \n  push: \n    branches: [ main ] \n\njobs: \n  release: \n    runs-on: ubuntu-latest \n    steps: \n      - name: Checkout Repository \n        uses: actions/checkout@v2 \n        with: \n          fetch-depth: 0 \n      - name: Set up Node.js \n        uses: actions/setup-node@v2 \n        with: \n          node-version: '14' \n      - name: Install Dependencies \n        run: npm install \n      - name: Count Ideas \n        id: count_ideas \n        run: | \n          ideas_count=$(git rev-list --count HEAD) \n          echo "ideas_count=$ideas_count" >> $GITHUB_ENV \n      - name: Create Release \n        if: ${{ env.ideas_count }} % 10 == 0 \n        run: | \n          echo "Creating release..." \n          release_notes=$(git log -n 10 --pretty=format:'* %s') \n          git tag -a "v1.0.$((${{ env.ideas_count }} / 10))" -m "Release for ideas $(( (${{ env.ideas_count }} / 10) * 10 - 9 )) to $(( ${{ env.ideas_count }} ))\n\nRelease Notes:\n$release_notes" \n          git push --tags \n        env: \n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}